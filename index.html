<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- displays site properly based on user's device -->

  <link rel="icon" type="image/png" sizes="32x32" href="./assets/images/favicon-32x32.png">

  <link rel="stylesheet" href="styles/styles.css">

  <title>Frontend Mentor | Conference ticket generator</title>
</head>

<body>

  <div id="wrapper">
  <!-- Form starts -->

    <header>
      <img id="logo" src="assets/images/logo-full.svg" alt="Coding Conf logo">

      <h1>Your Journey to Coding Conf <br> 2025 Starts Here!</h1>

      <p>Secure your spot at next year's biggest coding conference.</p>
    </header>

    <form id="myForm">

      <label for="">Upload Avatar</label><br>
      <div id="inputfile">
        <div id="upload-icon"></div>
        <p>Drag and drop or click to upload</p>
      </div>
      <div id="info-wrapper"><img class="info-icon" src="assets/images/icon-info.svg" alt="info icon"> <p id="info">Upload your photo (JPG or PNG, max size: 500KB).</p></div>

      <label for="">Full Name</label><br>
      <input type="text" name="fullName" required><br>
      
      <label for="">Email Address</label><br>
      <input type="email" placeholder="example@email.com" required>
      <span id="email-validation" class="error-message"><img class="info-icon" src="assets/images/icon-info.svg" alt="info icon"> Please enter a valid email address</span>
      <br>
      
      <label for="">GitHub Username</label><br>
      <input type="text" placeholder="@yourusername" required><br>
    
      <input type="submit" id="submit" value="Generate My Ticket"><br>

    </form>

</div>
  <!-- Form ends -->

  <!-- Generated tickets starts -->

  Congrats, <!-- Full Name -->! Your ticket is ready.

  We've emailed your ticket to <!-- Email Address --> and will send updates in the run up to the event.

  Coding Conf
  Jan 31, 2025 / Austin, TX

  <!-- Generated tickets ends -->
  
  <div class="attribution">
    Challenge by <a href="https://www.frontendmentor.io?ref=challenge">Frontend Mentor</a>. 
    Coded by <a href="#">Chloé</a>.
  </div>


  <script>

    // chargement préalable du doc HTML avant exécution du script
    document.addEventListener("DOMContentLoaded", function() {
    // récupère tous les éléments possédant le tag <input> dans la page
    const inputs = document.getElementsByTagName("INPUT");
    // parcourt tous les inputs
    for (let i = 0; i < inputs.length; i++) {
        // à chaque tour de boucle, si le champ est vide ou invalide, exécute la fonction 
        // oninvalid = attribut d'évènement 
        inputs[i].oninvalid = function(e) {
            //supprime/reset tout message d'erreur sur le champ e.target
            e.target.setCustomValidity(""); 
            // si le champ est toujours invalide
            if (!e.target.validity.valid) {
                // ajout de la classe "invalid"
                e.target.classList.add('invalid');
                // récupération du span
                const errorSpan = document.getElementById("email-validation");
                // si l'élément <span> existe et contient la classe "error-message"
                if (errorSpan && errorSpan.classList.contains('error-message')) {
                  //ajouter la classe "visible"
                  errorSpan.classList.add('visible');
                }
            }
        };
     
        // lorsque la valeur de l'input est modifiée
        inputs[i].oninput = function(e) {
            //reset le message d'erreur
            e.target.setCustomValidity("");
            //ôte la classe "invalid"
            e.target.classList.remove('invalid');
            // récupération du <span>
            const errorSpan = document.getElementById("email-validation");
              // si l'élément existe et qu'il contient la classe "error-message"
              if (errorSpan && errorSpan.classList.contains('error-message')) {
                // modification du style du span 
                errorSpan.style.display = "none";
                // ôte la classe "visible"
                errorSpan.classList.remove('visible');
              }
        };
    }
})

  </script>

</body>
</html>